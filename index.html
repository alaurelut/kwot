<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <title>KWOT</title>
</head>

<body>
    <div id="left">
        <div class="content">
    		<p class="text">Bientôt, <b>Kwot</b> votre outil de gestion d'info</p>
    		<p class="offre">
    			découvrir notre offre >
    		</p>
    	</div>
    </div>
    <div id="right">
        <div class="content">
    		<p class="text">

          <button onclick="login('google')">Google</button>
          <button onclick="login('facebook')">Facebook</button>
          <button onclick="login('twitter')">Twitter</button>
    		<input type="text" placeholder="Adresse mail">
    		<input type="text" placeholder="Mot de passe">
    		</p>
    		<div class="connexion">Connexion</div>
    	</div>
    </div>
    </div>

    <!-- https://puteborgne.sexy/talk2/ -->
    <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
    <script>
      // Initialize Firebase
      var mainFirebaseApp = firebase.initializeApp({
        apiKey: "AIzaSyDBnNrUk-iyqi-iq8faT3rW4t9PGZcduIQ",
        authDomain: "kwot-4f92f.firebaseapp.com",
        databaseURL: "https://kwot-4f92f.firebaseio.com",
        storageBucket: "kwot-4f92f.appspot.com",
        messagingSenderId: "495914858617"
      });

      function login(authMethod) {

        console.log(authMethod);

        switch (authMethod) {
          case "google":
            var authProvider = new firebase.auth.GoogleAuthProvider();
            authProvider.addScope('https://www.googleapis.com/auth/plus.login');
            break;
          case "facebook":
            var authProvider = new firebase.auth.FacebookAuthProvider();
            break;
          case "twitter":
            var authProvider = new firebase.auth.TwitterAuthProvider();
            break;

        }

        mainFirebaseApp
        .auth()
        .signInWithPopup(authProvider)
        .then(
          function(result) {
            console.log(result);

  						// var token = result.credential.accessToken;
  						// var credential = mainFirebaseApp.auth.GoogleAuthProvider.credential(token);
              //
  			  		// mainFirebaseApp.auth().currentUser.link(credential)
              // .then(
              //   function(user) {
        			//   		console.log("Anonymous account successfully upgraded", user);
        			// 	}, function(error) {
        			// 			console.log("Error upgrading anonymous account", error);
        			// 	}
              // );
        })
      }
    </script>

</body>

</html>
